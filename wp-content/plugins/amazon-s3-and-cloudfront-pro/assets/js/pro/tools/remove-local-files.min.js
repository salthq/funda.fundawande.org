!function(a,b){as3cfpro.Tools=as3cfpro.Tools?as3cfpro.Tools:{},as3cfpro.Tools.RemoveLocalFiles={form:{},inputSelector:"#as3cf-remove-local-file",inputValueOnLoad:!1,modalContainer:".as3cf-remove-local-files-prompt",setValueOnLoad:function(){this.inputValueOnLoad=this.optionEnabled()},optionEnabled:function(){return a(this.inputSelector).is(":checked")},maybeShowPrompt:function(a,b){!as3cfpro.Sidebar.isTabLocked("media")&&this.optionEnabled()&&!1===this.inputValueOnLoad&&(a.preventDefault(),this.form=b,this.showPrompt())},showPrompt:function(){b.setDismissibleState(!1),b.open(this.modalContainer)},handlePromptResponse:function(b){var c=a(b.target).data("remove-local-files");this.setLoadingState(),this.setHiddenInputValue(c),this.form.submit()},setLoadingState:function(){b.setLoadingState(!0),a(this.modalContainer+" [data-remove-local-files]").prop("disabled",!0).siblings(".spinner").css("visibility","visible").show()},setHiddenInputValue:function(b){a(this.form).find("input[name=remove-local-files-prompt]").val(b)}},a(document).ready(function(){as3cfpro.Tools.RemoveLocalFiles.setValueOnLoad(),a("#tab-media .as3cf-main-settings form").on("submit",function(a){as3cfpro.Tools.RemoveLocalFiles.maybeShowPrompt(a,this)}),a("body").on("click",".as3cf-remove-local-files-prompt [data-remove-local-files]",function(a){as3cfpro.Tools.RemoveLocalFiles.handlePromptResponse(a)})})}(jQuery,as3cfModal);